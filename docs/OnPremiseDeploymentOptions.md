üñ•Ô∏è On-Premise Deployment Options for Ocelis Configurator
Option 1: Windows Server with IIS (Most Common for .NET)
‚úÖ Best for:
Customers with existing Windows Server infrastructure
Companies familiar with IIS
Traditional enterprise environments
Requirements:
Windows Server 2016+ (or Windows 10/11 Pro for development)
IIS 10.0+
.NET 9 Runtime (ASP.NET Core Hosting Bundle)
Deployment Steps:
1. Prepare the Server
# Install IIS (run as Administrator)
Install-WindowsFeature -name Web-Server -IncludeManagementTools

# Install .NET 9 Hosting Bundle
# Download from: https://dotnet.microsoft.com/download/dotnet/9.0
# Install: dotnet-hosting-9.0.x-win.exe
2. Build & Publish Your Application
# On your development machine:
cd src/Ocelis.Configuration.BlazorApp
dotnet publish -c Release -o ./publish
3. Copy Files to Server
C:\inetpub\wwwroot\OcelisConfigurator\
‚îú‚îÄ‚îÄ appsettings.json
‚îú‚îÄ‚îÄ Ocelis.Configuration.BlazorApp.dll
‚îú‚îÄ‚îÄ wwwroot/
‚îî‚îÄ‚îÄ ... (all published files)
4. Create IIS Website
# Create Application Pool
New-WebAppPool -Name "OcelisConfiguratorAppPool"
Set-ItemProperty IIS:\AppPools\OcelisConfiguratorAppPool -Name "managedRuntimeVersion" -Value ""

# Create Website
New-Website -Name "OcelisConfigurator" `
    -Port 80 `
    -PhysicalPath "C:\inetpub\wwwroot\OcelisConfigurator" `
    -ApplicationPool "OcelisConfiguratorAppPool"
5. Configure web.config (auto-generated by publish)
<?xml version="1.0" encoding="utf-8"?>
<configuration>
  <system.webServer>
    <handlers>
      <add name="aspNetCore" path="*" verb="*" modules="AspNetCoreModuleV2" />
    </handlers>
    <aspNetCore processPath="dotnet" 
                arguments=".\Ocelis.Configuration.BlazorApp.dll" 
                stdoutLogEnabled="true" 
                stdoutLogFile=".\logs\stdout" 
                hostingModel="inprocess" />
  </system.webServer>
</configuration>
Pros & Cons:
‚úÖ Pros:
Familiar to Windows admins
GUI management tools
Good Windows integration
Easy SSL certificate management via IIS
‚ùå Cons:
Windows Server license cost
More resource-intensive than Linux
Requires Windows-specific knowledge
Option 2: Linux Server (Ubuntu/Debian) (Cost-Effective)
‚úÖ Best for:
Cost-conscious customers (no OS licensing)
Modern cloud-native deployments
Better performance per dollar
Requirements:
Ubuntu 20.04+ or Debian 11+
.NET 9 Runtime
Nginx or Apache (reverse proxy)
Deployment Steps:
1. Install .NET 9 Runtime
# Ubuntu 22.04
wget https://packages.microsoft.com/config/ubuntu/22.04/packages-microsoft-prod.deb -O packages-microsoft-prod.deb
sudo dpkg -i packages-microsoft-prod.deb
rm packages-microsoft-prod.deb

sudo apt-get update
sudo apt-get install -y aspnetcore-runtime-9.0
2. Create Service User
sudo useradd -m -s /bin/bash ocelis
sudo mkdir -p /var/www/ocelis-configurator
sudo chown -R ocelis:ocelis /var/www/ocelis-configurator
3. Deploy Application
# Copy published files to server
scp -r ./publish/* ocelis@server:/var/www/ocelis-configurator/

# Set permissions
sudo chown -R ocelis:ocelis /var/www/ocelis-configurator
sudo chmod +x /var/www/ocelis-configurator/Ocelis.Configuration.BlazorApp
4. Create Systemd Service
sudo nano /etc/systemd/system/ocelis-configurator.service
[Unit]
Description=Ocelis Configurator ASP.NET Core App
After=network.target

[Service]
Type=notify
User=ocelis
WorkingDirectory=/var/www/ocelis-configurator
ExecStart=/usr/bin/dotnet /var/www/ocelis-configurator/Ocelis.Configuration.BlazorApp.dll
Restart=always
RestartSec=10
SyslogIdentifier=ocelis-configurator
Environment=ASPNETCORE_ENVIRONMENT=Production
Environment=DOTNET_PRINT_TELEMETRY_MESSAGE=false

[Install]
WantedBy=multi-user.target
# Enable and start service
sudo systemctl enable ocelis-configurator
sudo systemctl start ocelis-configurator
sudo systemctl status ocelis-configurator
5. Configure Nginx Reverse Proxy
sudo nano /etc/nginx/sites-available/ocelis-configurator
server {
    listen 80;
    server_name configurator.example.com;

    location / {
        proxy_pass http://localhost:5000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection keep-alive;
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}
# Enable site
sudo ln -s /etc/nginx/sites-available/ocelis-configurator /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl reload nginx
6. Add SSL with Let's Encrypt
sudo apt-get install certbot python3-certbot-nginx
sudo certbot --nginx -d configurator.example.com
Pros & Cons:
‚úÖ Pros:
No OS licensing costs
Better performance
Lower resource usage
Free SSL with Let's Encrypt
‚ùå Cons:
Requires Linux knowledge
Command-line management
Less familiar to some IT departments
Option 3: Docker Container (Most Portable)
‚úÖ Best for:
Customers who want easy updates
Multi-environment deployments
DevOps-oriented organizations
Implementation:
1. Create Dockerfile
# src/Ocelis.Configuration.BlazorApp/Dockerfile
FROM mcr.microsoft.com/dotnet/aspnet:9.0 AS base
WORKDIR /app
EXPOSE 8080

FROM mcr.microsoft.com/dotnet/sdk:9.0 AS build
WORKDIR /src
COPY ["Ocelis.Configuration.BlazorApp.csproj", "./"]
RUN dotnet restore
COPY . .
RUN dotnet build "Ocelis.Configuration.BlazorApp.csproj" -c Release -o /app/build

FROM build AS publish
RUN dotnet publish "Ocelis.Configuration.BlazorApp.csproj" -c Release -o /app/publish

FROM base AS final
WORKDIR /app
COPY --from=publish /app/publish .
ENTRYPOINT ["dotnet", "Ocelis.Configuration.BlazorApp.dll"]
2. Create docker-compose.yml
# docker-compose.yml
version: '3.8'

services:
  ocelis-configurator:
    build: ./src/Ocelis.Configuration.BlazorApp
    ports:
      - "8080:8080"
    environment:
      - ASPNETCORE_ENVIRONMENT=Production
      - ASPNETCORE_URLS=http://+:8080
    restart: unless-stopped
    volumes:
      - ./logs:/app/logs

  nginx:
    image: nginx:alpine
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./nginx.conf:/etc/nginx/nginx.conf
      - ./ssl:/etc/nginx/ssl
    depends_on:
      - ocelis-configurator
    restart: unless-stopped
3. Deploy with Docker
# Build and run
docker-compose up -d

# Update application
docker-compose pull
docker-compose up -d --build

# View logs
docker-compose logs -f
Pros & Cons:
‚úÖ Pros:
Consistent across environments
Easy updates (just pull new image)
Isolated from host system
Works on Windows, Linux, or Mac
‚ùå Cons:
Requires Docker knowledge
Additional layer of complexity
Resource overhead
Option 4: Self-Contained Executable (Simplest for Small Deployments)
‚úÖ Best for:
Very small deployments
Customers without server infrastructure
Testing/demo purposes
Build Self-Contained App:
# Windows
dotnet publish -c Release -r win-x64 --self-contained true -o ./publish-win

# Linux
dotnet publish -c Release -r linux-x64 --self-contained true -o ./publish-linux
This creates a single executable that includes the .NET runtime (no .NET installation needed).
Run on Customer Server:
# Windows
Ocelis.Configuration.BlazorApp.exe

# Linux
chmod +x Ocelis.Configuration.BlazorApp
./Ocelis.Configuration.BlazorApp
Pros & Cons:
‚úÖ Pros:
No .NET installation required
Simplest deployment
Portable
‚ùå Cons:
Larger file size (~80-100 MB)
No automatic process management
Not suitable for production
üìä Comparison Matrix
Feature	Windows/IIS	Linux/Nginx	Docker	Self-Contained
Setup Complexity	Medium	Medium-High	High	Low
Cost	High (licenses)	Low (free)	Low	Low
Performance	Good	Excellent	Good	Good
Scalability	Good	Excellent	Excellent	Poor
Updates	Manual	Manual	Easy	Manual
SSL	Easy (IIS)	Easy (certbot)	Medium	Manual
Best For	Enterprise Windows	Cost-effective	DevOps/Modern	Testing/Small
üéØ My Recommendation Based on Customer Type:
1. Traditional Enterprise ‚Üí Windows Server + IIS
They likely already have Windows Server
IT staff familiar with IIS
Prefer GUI tools
2. Modern/Cost-Conscious ‚Üí Linux + Nginx
Best performance per dollar
No licensing costs
Industry standard for web hosting
3. Tech-Savvy/DevOps ‚Üí Docker
Easiest to update
Consistent deployments
Future-proof
4. Small Business/Testing ‚Üí Self-Contained
Quick to deploy
No infrastructure setup
Good for proof-of-concept
üìù What You Need to Provide to Customer:
Deployment Package Should Include:
Published Application Files (from dotnet publish)
Deployment Guide (specific to their chosen method)
Configuration Instructions
appsettings.json customization
Connection strings (if any)
Environment variables
System Requirements Document
Troubleshooting Guide
üöÄ Would You Like Me To:
Create deployment scripts for Windows Server?
Create deployment scripts for Linux?
Create a Docker setup with docker-compose?
Generate comprehensive deployment documentation for customers?
Create an installation package with automated deployment?
Let me know which deployment method your customer prefers, and I can prepare everything they need! üì¶